<html>
    <head>
        <link rel = "stylesheet" href = "main_style.css">
    </head>
    <body>
        <div>
            admins view
        </div>
        <table>
            <thead>
                <tr>
                    <th>Connections</th>
                    <th>Drive</th>
                    <th>Tools</th>
                    <th>Walk</th>
                </tr>
            </thead>
            <tbody class="table_display">
                <!-- Rows will be dynamically added here -->
            </tbody>
        </table>
        <div onclick="retrieveUser()">
            refresh
        </div>

        <script type="module">
            // Import the functions you need from the SDKs you need
          import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
          import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";
          // TODO: Add SDKs for Firebase products that you want to use
          // https://firebase.google.com/docs/web/setup#available-libraries

          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
            apiKey: "AIzaSyCPCxG1321VLmhUsYYA9W_FWXuXte2Q0BM",
            authDomain: "pluto-hacks-msd.firebaseapp.com",
            databaseURL: "https://pluto-hacks-msd-default-rtdb.firebaseio.com",
            projectId: "pluto-hacks-msd",
            storageBucket: "pluto-hacks-msd.appspot.com",
            messagingSenderId: "796752572752",
            appId: "1:796752572752:web:e74d9b0a4e7c73e1777c55",
            measurementId: "G-YZFX9V057B"
          };

          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const db = getFirestore(app);

            async function retrieveUser() {
            const tableBody = document.querySelector(".table_display")
            tableBody.innerHTML = "";

            const querySnapshot = await getDocs(collection(db, "Users"));
            querySnapshot.forEach((doc) => {
                const data = doc.data();
                const row = document.createElement("tr");

                const connectionsCell = document.createElement("td");
                connectionsCell.textContent = data.connections || "N/A";
                row.appendChild(connectionsCell);

                const driveCell = document.createElement("td");
                driveCell.textContent = data.drive || "N/A";
                row.appendChild(driveCell);

                const toolsCell = document.createElement("td");
                toolsCell.textContent = data.tools || "N/A";
                row.appendChild(toolsCell);

                const walkCell = document.createElement("td");
                walkCell.textContent = data.walk || "N/A";
                row.appendChild(walkCell);

                tableBody.appendChild(row);

            });
          }
          retrieveUser()

          window.onload = retrieveUser(); 
      </script>

    </body>
</html>


